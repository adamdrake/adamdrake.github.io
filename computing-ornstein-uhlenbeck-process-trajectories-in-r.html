<!doctype html><html lang=en><head><meta charset=utf-8><meta name=mobile-web-app-capable content="yes"><meta name=viewport content="width=device-width,initial-scale=1"><title>Computing Ornstein-Uhlenbeck Process Trajectories in R - Adam Drake</title><meta name=description content="Adam Drake is an advisor to scale-up tech companies. He writes about ML/AI/crypto/data, leadership, and building tech teams."><link rel="shortcut icon" href=https://adamdrake.com/static/favicon.ico><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=me href=https://github.com/adamdrake><link rel=me href=https://twitter.com/aadrake><link rel=stylesheet href=https://adamdrake.com/css/style.min.css crossorigin=anonymous media=screen><meta property="og:url" content="https://adamdrake.com"><meta property="og:title" content="Adam Drake"><meta property="og:site_name" content="Adam Drake"><meta property="og:type" content="website"><meta property="og:description" content="Adam Drake is an advisor to scale-up tech companies. He writes about ML/AI/crypto/data, leadership, and building tech teams."><meta property="og:image" content="/static/images/twitter-card.jpg"><meta name=twitter:title content="Adam Drake"><meta name=twitter:description content="Adam Drake is an advisor to scale-up tech companies. He writes about ML/AI/crypto/data, leadership, and building tech teams."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/static/images/twitter-card.jpg"></head><body><header><section><div class="header flex row"><div class="header__item flex row"><a id=site__name href=https://adamdrake.com>Adam Drake</a></div><div class="flex row"><nav aria-label="page menu" class="flex row"><ul role=menubar class="flex row"><li role=none><a class=sidebar-nav-itemmenu__item href=/ title>Latest</a></li><li role=none><a class=sidebar-nav-itemmenu__item href=/about.html title>About</a></li><li role=none><a class=sidebar-nav-itemmenu__item href=/cases.html title>Case Studies</a></li><li role=none><a class=sidebar-nav-itemmenu__item href=/contact.html title>Contact</a></li><li role=none><a class="sidebar-nav-item activemenu__item" href=/posts.html title=Posts>Posts</a></li><li role=none><a class=sidebar-nav-itemmenu__item href=/press.html title>Press</a></li><li><button class="subscribe subscribe-btn">
<a href=https://www.digitalmaneuver.com/#/portal>Subscribe to newsletter</a></button></li></ul></nav></div></div></section></header><main aria-role=main><section><ul id=feed__ul><li class="feed__li h-entry"><div class=feed__content><time class="hidden dt-published">2011-05-31 00:00:00 +0000 UTC</time><div class="flex properties__row"><div rel=author class="flex left p-author h-card hidden"><img class=u-photo src=https://adamdrake.com/static/images/adam_drake_240.jpg alt="Adam Drake" id=author-img><div><p rel=me class=p-name id=author-name>Adam Drake</p><p class=properties>May 31, 2011</p></div></div><div class="flex right properties"></div></div><article class="md p-summary e-content"><h1 class=p-name>Computing Ornstein-Uhlenbeck Process Trajectories in R</h1><p>Compared to the Ruby version, computing this in R is much easier due to
the built-in stochastic differential equation simulator. Assuming you
have R installed, make sure you also install the sde package. Here is
all the initial work that cleans up everything from your workspace, sets
the initial value of the process, the end-point, how granular you want
the simulation to be, and how many trajectories you want.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#a6e22e>rm</span>(list <span style=color:#f92672>=</span> <span style=color:#a6e22e>ls</span>(all <span style=color:#f92672>=</span> <span style=color:#66d9ef>TRUE</span>))
</span></span><span style=display:flex><span>x0 <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>end_point <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
</span></span><span style=display:flex><span>discretization_factor <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>total_steps <span style=color:#f92672>=</span> end_point <span style=color:#f92672>*</span> discretization_factor
</span></span><span style=display:flex><span><span style=color:#75715e>#Use the same seed for multiple trajectories if (number_trajectories &gt; 1)</span>
</span></span><span style=display:flex><span>number_trajectories <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set.seed</span>(<span style=color:#a6e22e>rnorm</span>(<span style=color:#ae81ff>1</span>))
</span></span></code></pre></div><p>Here we have a 0 drift parameter and a standard deviation of 1, followed
by the simulation and plot of the process.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span>d <span style=color:#f92672>=</span> <span style=color:#a6e22e>expression</span>(<span style=color:#ae81ff>0</span> <span style=color:#f92672>*</span> x)
</span></span><span style=display:flex><span>s <span style=color:#f92672>=</span> <span style=color:#a6e22e>expression</span>(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>X <span style=color:#f92672>=</span> <span style=color:#a6e22e>sde.sim</span>(M<span style=color:#f92672>=</span>number_trajectories, X0<span style=color:#f92672>=</span>x0, T<span style=color:#f92672>=</span>end_point, N<span style=color:#f92672>=</span>total_steps, drift<span style=color:#f92672>=</span>d, sigma<span style=color:#f92672>=</span>s) <span style=color:#a6e22e>plot</span>(X,main<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Price Action&#34;</span>, xlab<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Trading Period&#34;</span>, ylab<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Price&#34;</span>)
</span></span></code></pre></div><p>Here is an image of one of the trajectories created by the code.</p><p><img class=enclosure src=/static/images/ousim_r_1_trajectory.png alt="single trajectory"></p><p>Making the small change in the code and switching
<code>number_trajectories = 1</code> to <code>number_trajectories = 3</code> causes the
simulator to produce a very convenient plot with all three trajectories.
You could do some averaging or filtering with them if you wanted to.
Below is an image of three trajectories.</p><p><img class=enclosure src=/static/images/ousim_r_3_trajectories.png alt="three trajectories"></p><p>As you can see, doing such simulations with R is very quick and easy. In fact, I think I may displace Ruby as my default language for such tasks.</p><a class=hidden href=https://brid.gy/publish/mastodon></a>
<a class=hidden href=https://brid.gy/publish/twitter></a>
<a class=hidden href=https://fed.brid.gy/></a>
<data class=p-bridgy-omit-link value=false></data></article></div><div id=webmentions></div></li></ul></section></main><hr><footer class="flex col"><section class="footer-bio content"><p><strong>Adam Drake</strong> leads technical business transformations in global and multi-cultural environments. He has a passion for helping companies become more productive by improving internal leadership capabilities, and accelerating product development through technology and data architecture guidance. Adam has served as a White House Presidential Innovation Fellow and is an IEEE Senior Member.</p></section><button class="subscribe subscribe-btn">
<a href=https://www.digitalmaneuver.com/#/portal>Subscribe to newsletter</a></button><div class=social-icons><a rel=me href=https://github.com/adamdrake title=GitHub><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a rel=me href=https://linkedin.com/in/aadrake title=LinkedIn><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a rel=me href=https://twitter.com/aadrake title=Twitter><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div></footer></body></html>